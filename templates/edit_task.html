{% extends "base.html" %}

{% block title %}Edit Task{% endblock %}

{% block content %}
<h2>Edit Task: {{ task.title }}</h2>

<form method="POST" action="{{ url_for('tasks.edit_task', task_id=task.id) }}">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.task_title.label }} {{ form.task_title(class_="form-control") }}
        {% if form.task_title.errors %}
            <small class="text-danger">{{ form.task_title.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.task_description.label }} {{ form.task_description(class_="form-control") }}
        {% if form.task_description.errors %}
            <small class="text-danger">{{ form.task_description.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.priority.label }} {{ form.priority(class_="form-control") }}
        {% if form.priority.errors %}
            <small class="text-danger">{{ form.priority.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.due_date.label }} {{ form.due_date(class_="form-control") }}
        {% if form.due_date.errors %}
            <small class="text-danger">{{ form.due_date.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.start_time.label }}
        <input type="datetime-local" name="start_time" class="form-control" value="{{ form.start_time.data|datetimeformat }}">
        {% if form.start_time.errors %}
            <small class="text-danger">{{ form.start_time.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.end_time.label }}
        <input type="datetime-local" name="end_time" class="form-control" value="{{ form.end_time.data|datetimeformat }}">
        {% if form.end_time.errors %}
            <small class="text-danger">{{ form.end_time.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.task_type.label }} {{ form.task_type(class_="form-control") }}
        {% if form.task_type.errors %}
            <small class="text-danger">{{ form.task_type.errors[0] }}</small>
        {% endif %}
    </div>
    <div class="form-group">
        {{ form.assignee.label }} {{ form.assignee(class_="form-control") }}
        {% if form.assignee.errors %}
            <small class="text-danger">{{ form.assignee.errors[0] }}</small>
        {% endif %}
    </div>
    <button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
</form>
{% endblock %}